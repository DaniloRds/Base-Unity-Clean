const preset = {
    "vermelho": {
        "color": "#FB3640",
        "image": "denied.webp",
        "background": "linear-gradient(90deg, rgba(251, 54, 64, 0.1) 0%, rgba(251, 54, 64, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(251, 54, 64, 0.4) 0%, rgba(251, 54, 64, 0.0375) 85.42%, rgba(251, 54, 64, 0) 100%)"
    },

    "negado": {
        "color": "#FB3640",
        "image": "denied.webp",
        "background": "linear-gradient(90deg, rgba(251, 54, 64, 0.1) 0%, rgba(251, 54, 64, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(251, 54, 64, 0.4) 0%, rgba(251, 54, 64, 0.0375) 85.42%, rgba(251, 54, 64, 0) 100%)"
    },

    "amor": {
        "color": "#FB3640",
        "image": "love.png",
        "background": "linear-gradient(90deg, rgba(251, 54, 64, 0.1) 0%, rgba(251, 54, 64, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(251, 54, 64, 0.4) 0%, rgba(251, 54, 64, 0.0375) 85.42%, rgba(251, 54, 64, 0) 100%)"
    },

    "airdrop": {
        "color": "#E0BE36",
        "image": "airdrop.png",
        "background": "linear-gradient(90deg, rgba(224, 190, 54, 0.1) 0%, rgba(224, 190, 54, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(224, 190, 54, 0.4) 0%, rgba(224, 190, 54, 0.0375) 85.42%, rgba(224, 190, 54, 0) 100%)"
    },

    "dica": {
        "color": "#E0BE36",
        "image": "bulb.png",
        "background": "linear-gradient(90deg, rgba(224, 190, 54, 0.1) 0%, rgba(224, 190, 54, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(224, 190, 54, 0.4) 0%, rgba(224, 190, 54, 0.0375) 85.42%, rgba(224, 190, 54, 0) 100%)"
    },

    "verde": {
        "color": "#44AF69",
        "image": "success.webp",
        "background": "linear-gradient(90deg, rgba(68, 175, 105, 0.1) 0%, rgba(68, 175, 105, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(68, 175, 105, 0.4) 0%, rgba(68, 175, 105, 0.0375) 85.42%, rgba(68, 175, 105, 0) 100%)"
    },

    "sucesso": {
        "color": "#44AF69",
        "image": "success.webp",
        "background": "linear-gradient(90deg, rgba(68, 175, 105, 0.1) 0%, rgba(68, 175, 105, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(68, 175, 105, 0.4) 0%, rgba(68, 175, 105, 0.0375) 85.42%, rgba(68, 175, 105, 0) 100%)"
    },

    "amarelo": {
        "color": "#E0BE36",
        "image": "warn.webp",
        "background": "linear-gradient(90deg, rgba(224, 190, 54, 0.1) 0%, rgba(224, 190, 54, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(224, 190, 54, 0.4) 0%, rgba(224, 190, 54, 0.0375) 85.42%, rgba(224, 190, 54, 0) 100%)"
    },

    "aviso": {
        "color": "#E0BE36",
        "image": "warn.webp",
        "background": "linear-gradient(90deg, rgba(224, 190, 54, 0.1) 0%, rgba(224, 190, 54, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(224, 190, 54, 0.4) 0%, rgba(224, 190, 54, 0.0375) 85.42%, rgba(224, 190, 54, 0) 100%)"
    },

    "azul": {
        "color": "#669AE1",
        "image": "info.webp",
        "background": "linear-gradient(90deg, rgba(102, 154, 225, 0.1) 0%, rgba(102, 154, 225, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(102, 154, 225, 0.4) 0%, rgba(102, 154, 225, 0.0375) 85.42%, rgba(102, 154, 225, 0) 100%)"
    },

    "importante": {
        "color": "#669AE1",
        "image": "info.webp",
        "background": "linear-gradient(90deg, rgba(102, 154, 225, 0.1) 0%, rgba(102, 154, 225, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(102, 154, 225, 0.4) 0%, rgba(102, 154, 225, 0.0375) 85.42%, rgba(102, 154, 225, 0) 100%)"
    },

    "sangramento": {
        "color": "#FB3640",
        "image": "blood.webp",
        "background": "linear-gradient(90deg, rgba(251, 54, 64, 0.1) 0%, rgba(251, 54, 64, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(251, 54, 64, 0.4) 0%, rgba(251, 54, 64, 0.0375) 85.42%, rgba(251, 54, 64, 0) 100%)"
    },

    "compras": {
        "color": "#FF9FE5",
        "image": "buyer.svg",
        "background": "linear-gradient(90deg, rgba(255, 159, 229, 0.1) 0%, rgba(255, 159, 229, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(255, 184, 29, 0.4) 0%, rgba(255, 159, 229, 0.4) 0.01%, rgba(255, 159, 229, 0.0375) 85.42%, rgba(255, 159, 229, 0) 100%)"
    },

    "fome": {
        "color": "#F17300",
        "image": "hungry.webp",
        "background": "linear-gradient(90deg, rgba(241, 115, 0, 0.1) 0%, rgba(241, 115, 0, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(241, 115, 0, 0.4) 0%, rgba(241, 115, 0, 0.0375) 85.42%, rgba(241, 115, 0, 0) 100%)"
    },

    "sede": {
        "color": "#669AE1",
        "image": "thirst.webp",
        "background": "linear-gradient(90deg, rgba(102, 154, 225, 0.1) 0%, rgba(102, 154, 225, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(102, 154, 225, 0.4) 0%, rgba(102, 154, 225, 0.0375) 85.42%, rgba(102, 154, 225, 0) 100%)"
    },

    "police": {
        "color": "#669AE1",
        "image": "police.webp",
        "background": "linear-gradient(90deg, rgba(102, 154, 225, 0.1) 0%, rgba(102, 154, 225, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(102, 154, 225, 0.4) 0%, rgba(102, 154, 225, 0.0375) 85.42%, rgba(102, 154, 225, 0) 100%)"
    },

    "paramedic": {
        "color": "#FB3640",
        "image": "paramedic.webp",
        "background": "linear-gradient(90deg, rgba(251, 54, 64, 0.1) 0%, rgba(251, 54, 64, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(251, 54, 64, 0.4) 0%, rgba(251, 54, 64, 0.0375) 85.42%, rgba(251, 54, 64, 0) 100%)"
    },

    "admin": {
        "color": "#E0BE36",
        "image": "admin.webp",
        "background": "linear-gradient(90deg, rgba(224, 190, 54, 0.1) 0%, rgba(224, 190, 54, 0) 97.94%)",
        "lightBackground": "radial-gradient(50% 50% at 50% 50%, rgba(224, 190, 54, 0.4) 0%, rgba(224, 190, 54, 0.0375) 85.42%, rgba(224, 190, 54, 0) 100%)"
    },
};

$(() => {
    $(".list").fadeOut(500);
    window.addEventListener('message', async (event) => {
        const item = event.data || event.detail;
        switch (item.Action) {
            case 'Notify':
                var Html = `
                <div class="notify" style=>
                    <div class="notify_style" style="background:${preset[item.Css].background}">
                        <div class="notify_light" style="background:${preset[item.Css].lightBackground}">
                        </div>
                        <div class="notify_content"
                            style="flex-direction:${(!item.Title ? 'row' : 'column')};gap: ${!item?.title && '0.1vw'}">
                            <div class="notify_title">
                                ${item.Title ? `<h1 style="color:${preset[item.Css].color}">
                                    ${item.Title}
                                </h1>` : ''}
                                ${preset[item.Css].image != 'compras' ? `<img src="./assets/images/${preset[item.Css].image}" alt="notify">` : ''}
                            </div>
                            <p class="notify_text">${preset[item.Css].image === 'compras' ? `<img style="margin-right: 10px; margin-bottom: 5px;" src="./assets/images/${preset[item.Css].image}" alt="notify">` : ''} ${item?.Message}</p>
                        </div>
                        <div class="notify_bar">
                            <div class="notify_fill"
                                style="animation-duration:${(item?.Timer || 3000) / 1000 + 's'};background:${preset[item.Css].color}">
                            </div>
                        </div>
                    </div>
                </div>`;
                $(".tutorial").fadeOut(500);
                $("#notifys").animate({ scrollTop: $("#notifys").prop("scrollHeight") }, 100, "swing");
                $(".list").fadeOut(0);
                $(Html).appendTo("#notifys").animate({ left: "0", opacity: 1 }, { duration: 500 }).delay(item.Timer).animate({ left: "-10vw", opacity: 0 }, {
                    duration: 500, complete: function () {
                        this.remove()
                        if ($('#notifys').is(':empty')) {
                            $(".tutorial").fadeIn(500);
                        }
                    }
                });
                break;

            case 'Text':
                if (item?.Message == '') {
                    $("#texts").empty()
                    return;
                }
                var Html = `
                ${item?.Message != '' && `
                    <div class="Text" style=>
                        <h1>
                            ${item?.Message}
                        </h1>
                    </div>+
                }` || ''} `;
                $("#texts").animate({ scrollTop: $("#texts").prop("scrollHeight") }, 100, "swing");
                $(Html).appendTo("#texts").animate({ left: "0", opacity: 1 }, { duration: 500 });
                break;

            case 'Announce':
                var Html = `
                    <div class="announce" >
                        <div class="notify_style" style="background:${preset[item.Css].background}">
                            <div class="notify_light" style="background:${preset[item.Css].lightBackground}">
                            </div>
                            <div class="notify_content"
                                style="flex-direction:${(!item.Title ? 'row' : 'column')};gap: ${!item?.title && '0.5vw'}">
                                <div class="notify_title">
                                    ${item.Title ? `<h1 style="color:${preset[item.Css].color}">
                                        ${item.Title}
                                    </h1>` : ''}
                                    <img src='./assets/images/${preset[item.Css].image}')" />
                                </div>
                                <p class="notify_text">${item?.Message}</p>
                            </div>
                            <div class="notify_bar">
                                <div class="notify_fill"
                                    style="animation-duration:${(item?.Timer || 3000) / 1000 + 's'};background:${preset[item.Css].color}">
                                </div>
                            </div>
                        </div>
                    </div > `;
                $(".tutorial").fadeOut(500);
                $("#announces").animate({ scrollTop: $("#announces").prop("scrollHeight") }, 100, "swing");
                $(Html).appendTo("#announces").animate({ right: "0", opacity: 1 }, { duration: 500 }).delay(item.Timer).animate({ right: "-10vw", opacity: 0 }, {
                    duration: 500, complete: function () {
                        this.remove()
                        if ($('#announces').is(':empty')) {
                            $(".tutorial").fadeIn(500);
                        }
                    }
                });
                break;

            case 'Tutorial':
                $(".tutorial").fadeIn(500)
                if (item.Status) {
                    $(".list").fadeIn(500)
                    $('#notifys').html("");
                    return;
                }
                $(".list").fadeOut(500);
                break;
        }
    })
})
